<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Журнал посещаемости</title>

  <style>
    body { font-family: Arial, sans-serif; margin: 0; padding: 0; }
    iframe {
      width: 100%;
      height: 100vh;
      border: none;
    }
    .loading {
      text-align: center;
      margin-top: 30px;
      font-size: 20px;
    }
  </style>
</head>

<body>

<div class="loading">Загрузка журнала...</div>
<iframe id="journalFrame" style="display:none;"></iframe>




  
<script>
const API_URL = "https://script.google.com/macros/s/AKfycbydYQAoOMHlIAEZIsSUu3sNALYsltItXaBrc6qYHkUdmRvbfgIAutkhgV1Yowpw46WmFg/exec"; // ← заменяем




async function loadJournal() {
    try {
        const res = await fetch(`${API_URL}?months=1&trainer_id=${trainerId}`);
        const data = await res.json();

        if (!data.ok || !data.journal) {
            document.querySelector('.loading').innerText = "Ошибка загрузки журнала";
            return;
        }

        const url = data.journal.url;

        document.getElementById("journalFrame").src = url;
        document.getElementById("journalFrame").style.display = "block";
        document.querySelector('.loading').style.display = 'none';

    } catch (e) {
        document.querySelector('.loading').innerText = "Ошибка соединения";
    }
}

loadJournal();
</script>

</body>
</html>
